%h4.f300= answer_template.text
- answer_template.answer_options.distinct.each do |answer_option|
  - target_templates = answer_template.target_templates(question, answer_option.new_value)
  .radio-input-container{ class: 'label-default label-sm' }
    = radio_button_tag "#{question.id}[#{answer_template.id}]", answer_option.id, have_checked?(answer, answer_template, answer_option.id), name: "response[#{answer_template.id}]", id: "question_#{question.id}_#{answer_template.id}_#{answer_option.new_value}", data: { hotkey: "#{answer_option.hotkey unless answer.locked?}", object: "#{'reveal-next-input' if target_templates.count > 0 }", target: "#{"question_#{question.id}_answer_#{answer_option.id}_secondary" if target_templates.count > 0}" }, disabled: answer.locked?
    %label{ for: "question_#{question.id}_#{answer_template.id}_#{answer_option.new_value}", style: "#{'cursor: default' if answer_session.locked?}" }
      %p= answer_option.text
      %span.hotkey= answer_option.hotkey if answer_option.hotkey.present?
    - if target_templates.count > 0
      .hidden-input{ data: { receiver: "question_#{question.id}_answer_#{answer_option.id}_secondary" } }
        - target_templates.each do |target_template|
          - if target_template.template_name.present? and answer_template != target_template
            = render "surveys/questions/answer_templates/secondary", question: question, answer_session: answer_session, target_template: target_template, answer: answer
