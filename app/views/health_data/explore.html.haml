- content_for :community_contributions do
  .row
    .col-md-6
      .panel.panel-primary
        .panel-heading
          Community Contributions
        .panel-body.text-right
          .row
            .col-md-4
              Data Sources
              %br/
              %span.h0 121
            .col-md-4
              Data Points
              %br/
              %span.h0 4.6k
            .col-md-4
              Studies
              %br/
              %span.h0 1

- content_for :your_contributions do
  = render partial: "shared/badge_list", :locals => {badges: [{title: "Connector", earned: true, body: "You've connected 3 Data Sources", icon: "fa-link"},
                                                              {title: "Data Dumper", earned: false, body: "Use Your Connected Devices", icon: "fa-bar-chart"},
                                                              {title: "Sherlock", earned: false, body: "Investigate and graph your data", icon: "fa-search"}] }



  / %i.fa.fa-lightbulb-o.badger.badger-earned
  / %i.fa.fa-life-ring.badger
  / %i.fa.fa-slideshare.badger
  / %i.fa.fa-comments.badger
  / %i.fa.fa-bullhorn.badger
  / %i.fa.fa-list-ul.badger



  / %ul.list-group

  /   %li.list-group-item.list-group-item-success.badger.badger-earned
  /     .media
  /       %a.pull-left{:href => "#"}
  /         %i.fa.fa-link.media-object
  /       .media-body
  /         %h4.media-heading Connector
  /         %small You've connected 3 Data Sources

  /   %li.list-group-item.badger.badger-unearned
  /     .media
  /       %a.pull-left{:href => "#"}
  /         %i.fa.fa-bar-chart.media-object
  /       .media-body
  /         %h4.media-heading Data Dumper
  /         %small Use your connected devices.

  /   %li.list-group-item.badger.badger-unearned
  /     .media
  /       %a.pull-left{:href => "#"}
  /         %i.fa.fa-search.media-object
  /       .media-body
  /         %h4.media-heading Sherlock
  /         %small Investigate and graph your data


%ul.nav.nav-tabs{role: "tablist"}
  %li.active
    %a{"data-toggle" => "tab", href: "#popular", role: "tab", "data-target-path" => research_topics_ajax_path} Community
  %li
    %a{"data-toggle" => "tab", href: "#submitted", role: "tab", "data-target-path" => research_topics_ajax_path} My Data
  %li
    %a{"data-toggle" => "tab", href: "#newest", role: "tab", "data-target-path" => research_topics_ajax_path} My Connections

.graphs

  .row
    .col-md-4
      .panel.panel-default
        .panel-heading
          %h3.panel-title Age
        .panel-body
          = image_tag "histogram.png"
          .req age_distribution (hash of age -> count)


    .col-md-4
      .panel.panel-default
        .panel-heading
          %h3.panel-title Gender
        .panel-body
          = image_tag "donut.png"
          .req sex_distribution (sex -> count)


    .col-md-4
      .panel.panel-default
        .panel-heading
          %h3.panel-title Location
        .panel-body
          = image_tag "bar.png"
          .req locations (location(lat/lon, city, state, country) -> count)

  .row
    .col-md-4
      .panel.panel-default
        .panel-heading
          %h3.panel-title Surveys Completed
        .panel-body
          = image_tag "pie.png"
          .req surveys_completed [date,survey_id]


    .col-md-4
      .panel.panel-default
        .panel-heading
          %h3.panel-title Research Topic Input
        .panel-body
          = image_tag "histogram.png"

    .col-md-4
      .panel.panel-default
        .panel-heading
          %h3.panel-title Connected Data Sources
        .panel-body
          = image_tag "pie.png"
          .req data_sources_connected [date,data_source_id]



/ = image_tag "time-series.png", :width => "100%"

/ %br/
/ %br/

/ .panel.panel-default
/   .panel-heading
/     %h4.panel-title Stream

/   %table.table.table-striped.table-responsive
/     %thead.small
/       %td Date
/       %td Health Info
/       %td Source
/     %tbody
/       - DUMMY_DATA_SOURCES.each do |data_source_name,supported_data_source_types|
/         %tr
/           %td= rand(Time.now - 3.months..Time.now)
/           %td= rand(0..10000)
/           %td= data_source_name

/   .panel-footer{:style=> "padding: 0px; padding-top: 5px;"}
/     .text-center
/       %ul.pagination.pagination-sm{:style=> "margin: 0px;"}
/         %li
/           %span &laquo;
/         %li.disabled
/           %span ...
/         %li
/           %span &raquo;



/ %td.no-wrap{:style => "background-color: #f5f5f5 !important;"}
/   Today
/ %td{:style => "background-color: #f5f5f5 !important;"}
/   %div.col-md-4.col-xs-12.text-center
/     How are you feeling?
/     / %br/
/     / %i.fa.fa-circle
/     / &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/     / %i.fa.fa-circle
/     / &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/     / %i.fa.fa-circle
/     / &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
/     / %i.fa.fa-circle
/     / %br/
/     %input{:type => "range"}
/     %br/
/   .col-md-6.col-xs-12
/     %textarea.form-control{:placeholder => "Type a journal entry here.."}
/     %br/
/   %div.col-md-2.col-xs-12
/     %a.btn.btn-primary.btn-block{:href=>"javascript:location.reload();"} Post