= form_for current_user, html: { role: "form", class: 'form-horizontal' }, url: update_account_path, method: :patch do |f|
  .panel
    .panel-body.text-dark8
      %h3.f300.centered-text.text-dark9
        My Social Profile
      %br

      .row{ style: 'margin-bottom:20px;' }
        .col-sm-3.col-sm-offset-3
          #profile-image-container
            = render 'account/profile_photo'
        .col-sm-3
          .social-image-updater
            %h4.f300
              Change Photo
            %br
            .centered-text
              =f.file_field :photo
            %br
            #filedrag{ data: { object: 'dropfile' } }
              or drop photo here

      .form-group
        %label.control-label.col-sm-3 Forum Name
        .col-sm-6
          .input-group
            = f.text_field :forum_name, class: 'form-control'
            %span.input-group-btn
              = link_to suggest_random_forum_name_path, method: :post, remote: true, data: { toggle: 'tooltip', container: 'body' }, title: 'Generate Random Nickname', class: 'btn btn-default' do
                %span.glyphicon.glyphicon-random
          - if errors = current_user.errors[:forum_name] and errors.present?
            .bs-callout.bs-callout-danger
              - if 'is invalid'.in?(errors)
                Please enter a valid forum name that consists of letters
                %code a-z
                and
                numbers
                %code 0-9
                only.
              - if 'has already been taken'.in?(errors)
                This forum name has already been taken. Please choose another forum name.
              You may click the
              %span.glyphicon.glyphicon-random
              for a suggestion.

      .form-group
        %label.control-label.col-sm-3
          Age
        .col-sm-6
          = f.number_field :age, class: 'form-control', min: 1

      .form-group
        %label.control-label.col-sm-3
          Gender
        .col-sm-6
          = f.text_field :gender, autocomplete: "off", data: { object: 'typeahead', local: ["Male", "Female", "Genderqueer", "Androgynous", "Intersex", "Transgender", "Transsexual", "Cross-dresser", "Male-to-female (MTF)", "Female-to-male (FTM)"].to_json }, class: 'form-control'

    .panel-footer.text-dark9.centered-text{ style: 'margin:10px 0;'}
      %h4
        This is how you will appear to other members of MyApnea.Org
      %p.lead
        If you would prefer to be shown anonymously, you can leave these fields blank. You can change this any time by visiting your settings!
      .row
        = f.submit "Save Changes", class: 'btn btn-primary col-xs-4 col-xs-offset-4 centered-text'
