- @title = 'Engagement Report'
.content-main-header
  .container
    %h1= @title
    %p= link_to 'Admin Dashboard', admin_path


.container
  .content-container
    %h3 Uploaded a photo
    %p.lead.centered{ style: 'margin-top: 20px' }
      = number_with_delimiter @uploaded_photo_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @uploaded_photo_count / User.current.count).round(2)}%"

  .content-container
    %h3 Introduced themselves
    %p.lead.centered{ style: 'margin-top: 20px' }
      = number_with_delimiter @introduced_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @introduced_count / User.current.count).round(2)}%"

  .content-container
    %h3 Joined the conversation
    %p.lead.centered{ style: 'margin-top: 20px' }
      = number_with_delimiter @discussed_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @discussed_count / User.current.count).round(2)}%"

  .content-container
    %h3 Completed a survey
    %p.lead.centered{ style: 'margin-top: 20px' }
      = number_with_delimiter @completing_surveys_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @completing_surveys_count / User.current.count).round(2)}%"

  .content-container
    %h3 Completed the research tutorial
    %p.lead.centered{ style: 'margin-top: 20px' }
      = number_with_delimiter @experienced_voter_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @experienced_voter_count / User.current.count).round(2)}%"

  .content-container
    %h3 Submitted a research question
    %p.lead.centered{ style: 'margin-top: 20px' }
      = number_with_delimiter @submitted_research_topic_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @submitted_research_topic_count / User.current.count).round(2)}%"

  .content-container
    %h3 Invited another member
    %p.lead.centered{ style: 'margin-top: 20px' }
      %span.f500 Total:
      = number_with_delimiter @invited_members_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @invited_members_count / User.current.count).round(2)}%"
    %p.lead.centered{ style: 'margin-top: 20px' }
      %span.f500 Successfully:
      = number_with_delimiter @invited_members_success_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @invited_members_success_count / @invited_members_count).round(2)}%"

  .content-container
    %h3 Invited personal care provider
    %p.lead.centered{ style: 'margin-top: 20px' }
      %span.f500 Total:
      = number_with_delimiter @invited_providers_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @invited_providers_count / User.current.count).round(2)}%"
    %p.lead.centered{ style: 'margin-top: 20px' }
      %span.f500 Successfully:
      = number_with_delimiter @invited_providers_success_count rescue 0
      %span.text-muted
        = surround "(", ")" do
          = "#{(100.0 * @invited_providers_success_count / @invited_providers_count).round(2)}%"
